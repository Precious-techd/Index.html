<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>QuizMaster – Pattao National High School</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(180deg, #fffaf7 0%, #ffffff 100%);
    }
  </style>
</head>

<body class="min-h-screen flex items-center justify-center p-4">

  <div class="max-w-3xl w-full bg-white shadow-xl rounded-xl p-6">
    <h1 class="text-2xl font-bold text-center text-maroon mb-4">
      QuizMaster – Pattao National High School
    </h1>

    <!-- STUDENT & TEACHER INFO -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
      <input id="teacherName" type="text" placeholder="Teacher Name"
        class="border p-2 rounded w-full">
      <input id="subject" type="text" placeholder="Subject"
        class="border p-2 rounded w-full">
      <input id="studentName" type="text" placeholder="Student Name"
        class="border p-2 rounded w-full md:col-span-2">
    </div>

    <!-- QUIZ FORM -->
    <form id="quizForm" class="space-y-6"></form>

    <!-- SUBMIT BUTTON -->
    <button onclick="submitQuiz()"
      class="mt-6 w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700">
      Submit Quiz
    </button>

    <!-- RESULT -->
    <div id="result" class="mt-6 hidden bg-gray-100 p-4 rounded">
      <h2 class="text-xl font-semibold mb-2">Quiz Result</h2>
      <p id="scoreText"></p>
      <p id="percentageText"></p>
      <p id="correctText"></p>
      <p id="incorrectText"></p>
    </div>
  </div>

<script>
/* ================= QUESTION BANK ================= */
const QUESTION_BANK = [
  {
    q: "What is the value of 3x + 5 when x = 4?",
    options: ["12", "15", "17", "20"],
    answer: 2
  },
  {
    q: "Which of the following is a linear equation?",
    options: ["x² + 3 = 0", "2x + 5 = 9", "x² − 4x + 1 = 0", "xy = 6"],
    answer: 1
  },
  {
    q: "Solve for x: 2x − 7 = 5",
    options: ["4", "5", "6", "7"],
    answer: 0
  },
  {
    q: "What is the value of x in the equation x/3 = 6?",
    options: ["9", "12", "15", "18"],
    answer: 3
  },
  {
    q: "Which of the following is a polynomial?",
    options: ["1/x + 2", "x + 3√x", "3x² − 2x + 1", "2/x²"],
    answer: 2
  },
  {
    q: "What is the solution of x + 8 = 3x?",
    options: ["2", "4", "-4", "-8"],
    answer: 2
  },
  {
    q: "What is the slope of the line y = 2x − 1?",
    options: ["-1", "1", "2", "3"],
    answer: 2
  },
  {
    q: "If x = −3, what is the value of x²?",
    options: ["9", "-6", "6", "9"],
    answer: 3
  },
  {
    q: "If y = 2x − 1 and x = −3, what is the value of y?",
    options: ["-7", "-5", "5", "7"],
    answer: 0
  },
  {
    q: "What is the value of 5² − 3²?",
    options: ["4", "8", "16", "22"],
    answer: 2
  }
];

/* ================= RENDER QUIZ ================= */
const quizForm = document.getElementById("quizForm");

QUESTION_BANK.forEach((item, index) => {
  const div = document.createElement("div");
  div.innerHTML = `
    <p class="font-semibold mb-2">${index + 1}. ${item.q}</p>
    ${item.options.map((opt, i) => `
      <label class="block">
        <input type="radio" name="q${index}" value="${i}" class="mr-2">
        ${opt}
      </label>
    `).join("")}
  `;
  quizForm.appendChild(div);
});

/* ================= SUBMIT QUIZ ================= */
function submitQuiz() {
  const student = document.getElementById("studentName").value;
  const teacher = document.getElementById("teacherName").value;
  const subject = document.getElementById("subject").value;

  if (!student || !teacher || !subject) {
    alert("Please complete all information fields.");
    return;
  }

  let score = 0;

  QUESTION_BANK.forEach((item, index) => {
    const selected = document.querySelector(`input[name="q${index}"]:checked`);
    if (selected && Number(selected.value) === item.answer) {
      score++;
    }
  });

  const total = QUESTION_BANK.length;
  const percentage = ((score / total) * 100).toFixed(2);

  document.getElementById("result").classList.remove("hidden");
  document.getElementById("scoreText").innerText = `Score: ${score} / ${total}`;
  document.getElementById("percentageText").innerText = `Percentage: ${percentage}%`;
  document.getElementById("correctText").innerText = `Correct Answers: ${score}`;
  document.getElementById("incorrectText").innerText = `Incorrect Answers: ${total - score}`;

  /* SAVE RESULT */
  const results = {
    student,
    teacher,
    subject,
    score,
    percentage,
    date: new Date().toLocaleString()
  };

  let saved = JSON.parse(localStorage.getItem("quizResults")) || [];
  saved.push(results);
  localStorage.setItem("quizResults", JSON.stringify(saved));
}
</script>

</body>
</html>
